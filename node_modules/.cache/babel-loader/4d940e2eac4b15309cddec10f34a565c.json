{"ast":null,"code":"var config = require('./config');\n\nvar util = require('./util');\n\nvar EncodingDetect = require('./encoding-detect');\n\nvar EncodingTable = require('./encoding-table');\n/**\n * JIS to SJIS\n */\n\n\nfunction JISToSJIS(data) {\n  var results = [];\n  var index = 0;\n  var i = 0;\n  var len = data && data.length;\n  var b1, b2;\n\n  for (; i < len; i++) {\n    // escape sequence\n    while (data[i] === 0x1B) {\n      if (data[i + 1] === 0x24 && data[i + 2] === 0x42 || data[i + 1] === 0x24 && data[i + 2] === 0x40) {\n        index = 1;\n      } else if (data[i + 1] === 0x28 && data[i + 2] === 0x49) {\n        index = 2;\n      } else if (data[i + 1] === 0x24 && data[i + 2] === 0x28 && data[i + 3] === 0x44) {\n        index = 3;\n        i++;\n      } else {\n        index = 0;\n      }\n\n      i += 3;\n\n      if (data[i] === void 0) {\n        return results;\n      }\n    }\n\n    if (index === 1) {\n      b1 = data[i];\n      b2 = data[++i];\n\n      if (b1 & 0x01) {\n        b1 >>= 1;\n\n        if (b1 < 0x2F) {\n          b1 += 0x71;\n        } else {\n          b1 -= 0x4F;\n        }\n\n        if (b2 > 0x5F) {\n          b2 += 0x20;\n        } else {\n          b2 += 0x1F;\n        }\n      } else {\n        b1 >>= 1;\n\n        if (b1 <= 0x2F) {\n          b1 += 0x70;\n        } else {\n          b1 -= 0x50;\n        }\n\n        b2 += 0x7E;\n      }\n\n      results[results.length] = b1 & 0xFF;\n      results[results.length] = b2 & 0xFF;\n    } else if (index === 2) {\n      results[results.length] = data[i] + 0x80 & 0xFF;\n    } else if (index === 3) {\n      // Shift_JIS cannot convert JIS X 0212:1990.\n      results[results.length] = config.UNKNOWN_CHARACTER;\n    } else {\n      results[results.length] = data[i] & 0xFF;\n    }\n  }\n\n  return results;\n}\n\nexports.JISToSJIS = JISToSJIS;\n/**\n * JIS to EUCJP\n */\n\nfunction JISToEUCJP(data) {\n  var results = [];\n  var index = 0;\n  var len = data && data.length;\n  var i = 0;\n\n  for (; i < len; i++) {\n    // escape sequence\n    while (data[i] === 0x1B) {\n      if (data[i + 1] === 0x24 && data[i + 2] === 0x42 || data[i + 1] === 0x24 && data[i + 2] === 0x40) {\n        index = 1;\n      } else if (data[i + 1] === 0x28 && data[i + 2] === 0x49) {\n        index = 2;\n      } else if (data[i + 1] === 0x24 && data[i + 2] === 0x28 && data[i + 3] === 0x44) {\n        index = 3;\n        i++;\n      } else {\n        index = 0;\n      }\n\n      i += 3;\n\n      if (data[i] === void 0) {\n        return results;\n      }\n    }\n\n    if (index === 1) {\n      results[results.length] = data[i] + 0x80 & 0xFF;\n      results[results.length] = data[++i] + 0x80 & 0xFF;\n    } else if (index === 2) {\n      results[results.length] = 0x8E;\n      results[results.length] = data[i] + 0x80 & 0xFF;\n    } else if (index === 3) {\n      results[results.length] = 0x8F;\n      results[results.length] = data[i] + 0x80 & 0xFF;\n      results[results.length] = data[++i] + 0x80 & 0xFF;\n    } else {\n      results[results.length] = data[i] & 0xFF;\n    }\n  }\n\n  return results;\n}\n\nexports.JISToEUCJP = JISToEUCJP;\n/**\n * SJIS to JIS\n */\n\nfunction SJISToJIS(data) {\n  var results = [];\n  var index = 0;\n  var len = data && data.length;\n  var i = 0;\n  var b1, b2;\n  var esc = [0x1B, 0x28, 0x42, 0x1B, 0x24, 0x42, 0x1B, 0x28, 0x49];\n\n  for (; i < len; i++) {\n    b1 = data[i];\n\n    if (b1 >= 0xA1 && b1 <= 0xDF) {\n      if (index !== 2) {\n        index = 2;\n        results[results.length] = esc[6];\n        results[results.length] = esc[7];\n        results[results.length] = esc[8];\n      }\n\n      results[results.length] = b1 - 0x80 & 0xFF;\n    } else if (b1 >= 0x80) {\n      if (index !== 1) {\n        index = 1;\n        results[results.length] = esc[3];\n        results[results.length] = esc[4];\n        results[results.length] = esc[5];\n      }\n\n      b1 <<= 1;\n      b2 = data[++i];\n\n      if (b2 < 0x9F) {\n        if (b1 < 0x13F) {\n          b1 -= 0xE1;\n        } else {\n          b1 -= 0x61;\n        }\n\n        if (b2 > 0x7E) {\n          b2 -= 0x20;\n        } else {\n          b2 -= 0x1F;\n        }\n      } else {\n        if (b1 < 0x13F) {\n          b1 -= 0xE0;\n        } else {\n          b1 -= 0x60;\n        }\n\n        b2 -= 0x7E;\n      }\n\n      results[results.length] = b1 & 0xFF;\n      results[results.length] = b2 & 0xFF;\n    } else {\n      if (index !== 0) {\n        index = 0;\n        results[results.length] = esc[0];\n        results[results.length] = esc[1];\n        results[results.length] = esc[2];\n      }\n\n      results[results.length] = b1 & 0xFF;\n    }\n  }\n\n  if (index !== 0) {\n    results[results.length] = esc[0];\n    results[results.length] = esc[1];\n    results[results.length] = esc[2];\n  }\n\n  return results;\n}\n\nexports.SJISToJIS = SJISToJIS;\n/**\n * SJIS to EUCJP\n */\n\nfunction SJISToEUCJP(data) {\n  var results = [];\n  var len = data && data.length;\n  var i = 0;\n  var b1, b2;\n\n  for (; i < len; i++) {\n    b1 = data[i];\n\n    if (b1 >= 0xA1 && b1 <= 0xDF) {\n      results[results.length] = 0x8E;\n      results[results.length] = b1;\n    } else if (b1 >= 0x81) {\n      b2 = data[++i];\n      b1 <<= 1;\n\n      if (b2 < 0x9F) {\n        if (b1 < 0x13F) {\n          b1 -= 0x61;\n        } else {\n          b1 -= 0xE1;\n        }\n\n        if (b2 > 0x7E) {\n          b2 += 0x60;\n        } else {\n          b2 += 0x61;\n        }\n      } else {\n        if (b1 < 0x13F) {\n          b1 -= 0x60;\n        } else {\n          b1 -= 0xE0;\n        }\n\n        b2 += 0x02;\n      }\n\n      results[results.length] = b1 & 0xFF;\n      results[results.length] = b2 & 0xFF;\n    } else {\n      results[results.length] = b1 & 0xFF;\n    }\n  }\n\n  return results;\n}\n\nexports.SJISToEUCJP = SJISToEUCJP;\n/**\n * EUCJP to JIS\n */\n\nfunction EUCJPToJIS(data) {\n  var results = [];\n  var index = 0;\n  var len = data && data.length;\n  var i = 0;\n  var b; // escape sequence\n\n  var esc = [0x1B, 0x28, 0x42, 0x1B, 0x24, 0x42, 0x1B, 0x28, 0x49, 0x1B, 0x24, 0x28, 0x44];\n\n  for (; i < len; i++) {\n    b = data[i];\n\n    if (b === 0x8E) {\n      if (index !== 2) {\n        index = 2;\n        results[results.length] = esc[6];\n        results[results.length] = esc[7];\n        results[results.length] = esc[8];\n      }\n\n      results[results.length] = data[++i] - 0x80 & 0xFF;\n    } else if (b === 0x8F) {\n      if (index !== 3) {\n        index = 3;\n        results[results.length] = esc[9];\n        results[results.length] = esc[10];\n        results[results.length] = esc[11];\n        results[results.length] = esc[12];\n      }\n\n      results[results.length] = data[++i] - 0x80 & 0xFF;\n      results[results.length] = data[++i] - 0x80 & 0xFF;\n    } else if (b > 0x8E) {\n      if (index !== 1) {\n        index = 1;\n        results[results.length] = esc[3];\n        results[results.length] = esc[4];\n        results[results.length] = esc[5];\n      }\n\n      results[results.length] = b - 0x80 & 0xFF;\n      results[results.length] = data[++i] - 0x80 & 0xFF;\n    } else {\n      if (index !== 0) {\n        index = 0;\n        results[results.length] = esc[0];\n        results[results.length] = esc[1];\n        results[results.length] = esc[2];\n      }\n\n      results[results.length] = b & 0xFF;\n    }\n  }\n\n  if (index !== 0) {\n    results[results.length] = esc[0];\n    results[results.length] = esc[1];\n    results[results.length] = esc[2];\n  }\n\n  return results;\n}\n\nexports.EUCJPToJIS = EUCJPToJIS;\n/**\n * EUCJP to SJIS\n */\n\nfunction EUCJPToSJIS(data) {\n  var results = [];\n  var len = data && data.length;\n  var i = 0;\n  var b1, b2;\n\n  for (; i < len; i++) {\n    b1 = data[i];\n\n    if (b1 === 0x8F) {\n      results[results.length] = config.UNKNOWN_CHARACTER;\n      i += 2;\n    } else if (b1 > 0x8E) {\n      b2 = data[++i];\n\n      if (b1 & 0x01) {\n        b1 >>= 1;\n\n        if (b1 < 0x6F) {\n          b1 += 0x31;\n        } else {\n          b1 += 0x71;\n        }\n\n        if (b2 > 0xDF) {\n          b2 -= 0x60;\n        } else {\n          b2 -= 0x61;\n        }\n      } else {\n        b1 >>= 1;\n\n        if (b1 <= 0x6F) {\n          b1 += 0x30;\n        } else {\n          b1 += 0x70;\n        }\n\n        b2 -= 0x02;\n      }\n\n      results[results.length] = b1 & 0xFF;\n      results[results.length] = b2 & 0xFF;\n    } else if (b1 === 0x8E) {\n      results[results.length] = data[++i] & 0xFF;\n    } else {\n      results[results.length] = b1 & 0xFF;\n    }\n  }\n\n  return results;\n}\n\nexports.EUCJPToSJIS = EUCJPToSJIS;\n/**\n * SJIS To UTF-8\n */\n\nfunction SJISToUTF8(data) {\n  config.init_JIS_TO_UTF8_TABLE();\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var b, b1, b2, u2, u3, jis, utf8;\n\n  for (; i < len; i++) {\n    b = data[i];\n\n    if (b >= 0xA1 && b <= 0xDF) {\n      b2 = b - 0x40;\n      u2 = 0xBC | b2 >> 6 & 0x03;\n      u3 = 0x80 | b2 & 0x3F;\n      results[results.length] = 0xEF;\n      results[results.length] = u2 & 0xFF;\n      results[results.length] = u3 & 0xFF;\n    } else if (b >= 0x80) {\n      b1 = b << 1;\n      b2 = data[++i];\n\n      if (b2 < 0x9F) {\n        if (b1 < 0x13F) {\n          b1 -= 0xE1;\n        } else {\n          b1 -= 0x61;\n        }\n\n        if (b2 > 0x7E) {\n          b2 -= 0x20;\n        } else {\n          b2 -= 0x1F;\n        }\n      } else {\n        if (b1 < 0x13F) {\n          b1 -= 0xE0;\n        } else {\n          b1 -= 0x60;\n        }\n\n        b2 -= 0x7E;\n      }\n\n      b1 &= 0xFF;\n      jis = (b1 << 8) + b2;\n      utf8 = EncodingTable.JIS_TO_UTF8_TABLE[jis];\n\n      if (utf8 === void 0) {\n        results[results.length] = config.UNKNOWN_CHARACTER;\n      } else {\n        if (utf8 < 0xFFFF) {\n          results[results.length] = utf8 >> 8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        } else {\n          results[results.length] = utf8 >> 16 & 0xFF;\n          results[results.length] = utf8 >> 8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        }\n      }\n    } else {\n      results[results.length] = data[i] & 0xFF;\n    }\n  }\n\n  return results;\n}\n\nexports.SJISToUTF8 = SJISToUTF8;\n/**\n * EUC-JP to UTF-8\n */\n\nfunction EUCJPToUTF8(data) {\n  config.init_JIS_TO_UTF8_TABLE();\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var b, b2, u2, u3, j2, j3, jis, utf8;\n\n  for (; i < len; i++) {\n    b = data[i];\n\n    if (b === 0x8E) {\n      b2 = data[++i] - 0x40;\n      u2 = 0xBC | b2 >> 6 & 0x03;\n      u3 = 0x80 | b2 & 0x3F;\n      results[results.length] = 0xEF;\n      results[results.length] = u2 & 0xFF;\n      results[results.length] = u3 & 0xFF;\n    } else if (b === 0x8F) {\n      j2 = data[++i] - 0x80;\n      j3 = data[++i] - 0x80;\n      jis = (j2 << 8) + j3;\n      utf8 = EncodingTable.JISX0212_TO_UTF8_TABLE[jis];\n\n      if (utf8 === void 0) {\n        results[results.length] = config.UNKNOWN_CHARACTER;\n      } else {\n        if (utf8 < 0xFFFF) {\n          results[results.length] = utf8 >> 8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        } else {\n          results[results.length] = utf8 >> 16 & 0xFF;\n          results[results.length] = utf8 >> 8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        }\n      }\n    } else if (b >= 0x80) {\n      jis = (b - 0x80 << 8) + (data[++i] - 0x80);\n      utf8 = EncodingTable.JIS_TO_UTF8_TABLE[jis];\n\n      if (utf8 === void 0) {\n        results[results.length] = config.UNKNOWN_CHARACTER;\n      } else {\n        if (utf8 < 0xFFFF) {\n          results[results.length] = utf8 >> 8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        } else {\n          results[results.length] = utf8 >> 16 & 0xFF;\n          results[results.length] = utf8 >> 8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        }\n      }\n    } else {\n      results[results.length] = data[i] & 0xFF;\n    }\n  }\n\n  return results;\n}\n\nexports.EUCJPToUTF8 = EUCJPToUTF8;\n/**\n * JIS to UTF-8\n */\n\nfunction JISToUTF8(data) {\n  config.init_JIS_TO_UTF8_TABLE();\n  var results = [];\n  var index = 0;\n  var i = 0;\n  var len = data && data.length;\n  var b2, u2, u3, jis, utf8;\n\n  for (; i < len; i++) {\n    while (data[i] === 0x1B) {\n      if (data[i + 1] === 0x24 && data[i + 2] === 0x42 || data[i + 1] === 0x24 && data[i + 2] === 0x40) {\n        index = 1;\n      } else if (data[i + 1] === 0x28 && data[i + 2] === 0x49) {\n        index = 2;\n      } else if (data[i + 1] === 0x24 && data[i + 2] === 0x28 && data[i + 3] === 0x44) {\n        index = 3;\n        i++;\n      } else {\n        index = 0;\n      }\n\n      i += 3;\n\n      if (data[i] === void 0) {\n        return results;\n      }\n    }\n\n    if (index === 1) {\n      jis = (data[i] << 8) + data[++i];\n      utf8 = EncodingTable.JIS_TO_UTF8_TABLE[jis];\n\n      if (utf8 === void 0) {\n        results[results.length] = config.UNKNOWN_CHARACTER;\n      } else {\n        if (utf8 < 0xFFFF) {\n          results[results.length] = utf8 >> 8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        } else {\n          results[results.length] = utf8 >> 16 & 0xFF;\n          results[results.length] = utf8 >> 8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        }\n      }\n    } else if (index === 2) {\n      b2 = data[i] + 0x40;\n      u2 = 0xBC | b2 >> 6 & 0x03;\n      u3 = 0x80 | b2 & 0x3F;\n      results[results.length] = 0xEF;\n      results[results.length] = u2 & 0xFF;\n      results[results.length] = u3 & 0xFF;\n    } else if (index === 3) {\n      jis = (data[i] << 8) + data[++i];\n      utf8 = EncodingTable.JISX0212_TO_UTF8_TABLE[jis];\n\n      if (utf8 === void 0) {\n        results[results.length] = config.UNKNOWN_CHARACTER;\n      } else {\n        if (utf8 < 0xFFFF) {\n          results[results.length] = utf8 >> 8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        } else {\n          results[results.length] = utf8 >> 16 & 0xFF;\n          results[results.length] = utf8 >> 8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        }\n      }\n    } else {\n      results[results.length] = data[i] & 0xFF;\n    }\n  }\n\n  return results;\n}\n\nexports.JISToUTF8 = JISToUTF8;\n/**\n * UTF-8 to SJIS\n */\n\nfunction UTF8ToSJIS(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var b, b1, b2, utf8, jis;\n\n  for (; i < len; i++) {\n    b = data[i];\n\n    if (b >= 0x80) {\n      if (b <= 0xDF) {\n        // 2 bytes\n        utf8 = (b << 8) + data[++i];\n      } else {\n        // 3 bytes\n        utf8 = (b << 16) + (data[++i] << 8) + (data[++i] & 0xFF);\n      }\n\n      jis = EncodingTable.UTF8_TO_JIS_TABLE[utf8];\n\n      if (jis === void 0) {\n        results[results.length] = config.UNKNOWN_CHARACTER;\n      } else {\n        if (jis < 0xFF) {\n          results[results.length] = jis + 0x80;\n        } else {\n          if (jis > 0x10000) {\n            jis -= 0x10000;\n          }\n\n          b1 = jis >> 8;\n          b2 = jis & 0xFF;\n\n          if (b1 & 0x01) {\n            b1 >>= 1;\n\n            if (b1 < 0x2F) {\n              b1 += 0x71;\n            } else {\n              b1 -= 0x4F;\n            }\n\n            if (b2 > 0x5F) {\n              b2 += 0x20;\n            } else {\n              b2 += 0x1F;\n            }\n          } else {\n            b1 >>= 1;\n\n            if (b1 <= 0x2F) {\n              b1 += 0x70;\n            } else {\n              b1 -= 0x50;\n            }\n\n            b2 += 0x7E;\n          }\n\n          results[results.length] = b1 & 0xFF;\n          results[results.length] = b2 & 0xFF;\n        }\n      }\n    } else {\n      results[results.length] = data[i] & 0xFF;\n    }\n  }\n\n  return results;\n}\n\nexports.UTF8ToSJIS = UTF8ToSJIS;\n/**\n * UTF-8 to EUC-JP\n */\n\nfunction UTF8ToEUCJP(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var b, utf8, jis;\n\n  for (; i < len; i++) {\n    b = data[i];\n\n    if (b >= 0x80) {\n      if (b <= 0xDF) {\n        utf8 = (data[i++] << 8) + data[i];\n      } else {\n        utf8 = (data[i++] << 16) + (data[i++] << 8) + (data[i] & 0xFF);\n      }\n\n      jis = EncodingTable.UTF8_TO_JIS_TABLE[utf8];\n\n      if (jis === void 0) {\n        jis = EncodingTable.UTF8_TO_JISX0212_TABLE[utf8];\n\n        if (jis === void 0) {\n          results[results.length] = config.UNKNOWN_CHARACTER;\n        } else {\n          results[results.length] = 0x8F;\n          results[results.length] = (jis >> 8) - 0x80 & 0xFF;\n          results[results.length] = (jis & 0xFF) - 0x80 & 0xFF;\n        }\n      } else {\n        if (jis > 0x10000) {\n          jis -= 0x10000;\n        }\n\n        if (jis < 0xFF) {\n          results[results.length] = 0x8E;\n          results[results.length] = jis - 0x80 & 0xFF;\n        } else {\n          results[results.length] = (jis >> 8) - 0x80 & 0xFF;\n          results[results.length] = (jis & 0xFF) - 0x80 & 0xFF;\n        }\n      }\n    } else {\n      results[results.length] = data[i] & 0xFF;\n    }\n  }\n\n  return results;\n}\n\nexports.UTF8ToEUCJP = UTF8ToEUCJP;\n/**\n * UTF-8 to JIS\n */\n\nfunction UTF8ToJIS(data) {\n  var results = [];\n  var index = 0;\n  var len = data && data.length;\n  var i = 0;\n  var b, utf8, jis;\n  var esc = [0x1B, 0x28, 0x42, 0x1B, 0x24, 0x42, 0x1B, 0x28, 0x49, 0x1B, 0x24, 0x28, 0x44];\n\n  for (; i < len; i++) {\n    b = data[i];\n\n    if (b < 0x80) {\n      if (index !== 0) {\n        index = 0;\n        results[results.length] = esc[0];\n        results[results.length] = esc[1];\n        results[results.length] = esc[2];\n      }\n\n      results[results.length] = b & 0xFF;\n    } else {\n      if (b <= 0xDF) {\n        utf8 = (data[i] << 8) + data[++i];\n      } else {\n        utf8 = (data[i] << 16) + (data[++i] << 8) + data[++i];\n      }\n\n      jis = EncodingTable.UTF8_TO_JIS_TABLE[utf8];\n\n      if (jis === void 0) {\n        jis = EncodingTable.UTF8_TO_JISX0212_TABLE[utf8];\n\n        if (jis === void 0) {\n          if (index !== 0) {\n            index = 0;\n            results[results.length] = esc[0];\n            results[results.length] = esc[1];\n            results[results.length] = esc[2];\n          }\n\n          results[results.length] = config.UNKNOWN_CHARACTER;\n        } else {\n          // JIS X 0212:1990\n          if (index !== 3) {\n            index = 3;\n            results[results.length] = esc[9];\n            results[results.length] = esc[10];\n            results[results.length] = esc[11];\n            results[results.length] = esc[12];\n          }\n\n          results[results.length] = jis >> 8 & 0xFF;\n          results[results.length] = jis & 0xFF;\n        }\n      } else {\n        if (jis > 0x10000) {\n          jis -= 0x10000;\n        }\n\n        if (jis < 0xFF) {\n          // Halfwidth Katakana\n          if (index !== 2) {\n            index = 2;\n            results[results.length] = esc[6];\n            results[results.length] = esc[7];\n            results[results.length] = esc[8];\n          }\n\n          results[results.length] = jis & 0xFF;\n        } else {\n          if (index !== 1) {\n            index = 1;\n            results[results.length] = esc[3];\n            results[results.length] = esc[4];\n            results[results.length] = esc[5];\n          }\n\n          results[results.length] = jis >> 8 & 0xFF;\n          results[results.length] = jis & 0xFF;\n        }\n      }\n    }\n  }\n\n  if (index !== 0) {\n    results[results.length] = esc[0];\n    results[results.length] = esc[1];\n    results[results.length] = esc[2];\n  }\n\n  return results;\n}\n\nexports.UTF8ToJIS = UTF8ToJIS;\n/**\n * UTF-16 (JavaScript Unicode array) to UTF-8\n */\n\nfunction UNICODEToUTF8(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var c, second;\n\n  for (; i < len; i++) {\n    c = data[i]; // high surrogate\n\n    if (c >= 0xD800 && c <= 0xDBFF && i + 1 < len) {\n      second = data[i + 1]; // low surrogate\n\n      if (second >= 0xDC00 && second <= 0xDFFF) {\n        c = (c - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n        i++;\n      }\n    }\n\n    if (c < 0x80) {\n      results[results.length] = c;\n    } else if (c < 0x800) {\n      results[results.length] = 0xC0 | c >> 6 & 0x1F;\n      results[results.length] = 0x80 | c & 0x3F;\n    } else if (c < 0x10000) {\n      results[results.length] = 0xE0 | c >> 12 & 0xF;\n      results[results.length] = 0x80 | c >> 6 & 0x3F;\n      results[results.length] = 0x80 | c & 0x3F;\n    } else if (c < 0x200000) {\n      results[results.length] = 0xF0 | c >> 18 & 0xF;\n      results[results.length] = 0x80 | c >> 12 & 0x3F;\n      results[results.length] = 0x80 | c >> 6 & 0x3F;\n      results[results.length] = 0x80 | c & 0x3F;\n    }\n  }\n\n  return results;\n}\n\nexports.UNICODEToUTF8 = UNICODEToUTF8;\n/**\n * UTF-8 to UTF-16 (JavaScript Unicode array)\n */\n\nfunction UTF8ToUNICODE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var n, c, c2, c3, c4, code;\n\n  while (i < len) {\n    c = data[i++];\n    n = c >> 4;\n\n    if (n >= 0 && n <= 7) {\n      // 0xxx xxxx\n      code = c;\n    } else if (n === 12 || n === 13) {\n      // 110x xxxx\n      // 10xx xxxx\n      c2 = data[i++];\n      code = (c & 0x1F) << 6 | c2 & 0x3F;\n    } else if (n === 14) {\n      // 1110 xxxx\n      // 10xx xxxx\n      // 10xx xxxx\n      c2 = data[i++];\n      c3 = data[i++];\n      code = (c & 0x0F) << 12 | (c2 & 0x3F) << 6 | c3 & 0x3F;\n    } else if (n === 15) {\n      // 1111 0xxx\n      // 10xx xxxx\n      // 10xx xxxx\n      // 10xx xxxx\n      c2 = data[i++];\n      c3 = data[i++];\n      c4 = data[i++];\n      code = (c & 0x7) << 18 | (c2 & 0x3F) << 12 | (c3 & 0x3F) << 6 | c4 & 0x3F;\n    }\n\n    if (code <= 0xFFFF) {\n      results[results.length] = code;\n    } else {\n      // Split in surrogate halves\n      code -= 0x10000;\n      results[results.length] = (code >> 10) + 0xD800; // High surrogate\n\n      results[results.length] = code % 0x400 + 0xDC00; // Low surrogate\n    }\n  }\n\n  return results;\n}\n\nexports.UTF8ToUNICODE = UTF8ToUNICODE;\n/**\n * UTF-16 (JavaScript Unicode array) to UTF-16\n *\n * UTF-16BE (big-endian)\n * Note: this function does not prepend the BOM by default.\n *\n * RFC 2781 4.3 Interpreting text labelled as UTF-16\n *   If the first two octets of the text is not 0xFE followed by\n *   0xFF, and is not 0xFF followed by 0xFE, then the text SHOULD be\n *   interpreted as being big-endian.\n *\n * @link https://www.ietf.org/rfc/rfc2781.txt\n * UTF-16, an encoding of ISO 10646\n */\n\nfunction UNICODEToUTF16(data, options) {\n  var results;\n\n  if (options && options.bom) {\n    var optBom = options.bom;\n\n    if (!util.isString(optBom)) {\n      optBom = 'BE';\n    }\n\n    var bom, utf16;\n\n    if (optBom.charAt(0).toUpperCase() === 'B') {\n      // Big-endian\n      bom = [0xFE, 0xFF];\n      utf16 = UNICODEToUTF16BE(data);\n    } else {\n      // Little-endian\n      bom = [0xFF, 0xFE];\n      utf16 = UNICODEToUTF16LE(data);\n    }\n\n    results = [];\n    results[0] = bom[0];\n    results[1] = bom[1];\n\n    for (var i = 0, len = utf16.length; i < len; i++) {\n      results[results.length] = utf16[i];\n    }\n  } else {\n    // Without BOM: Convert as BE (SHOULD).\n    results = UNICODEToUTF16BE(data);\n  }\n\n  return results;\n}\n\nexports.UNICODEToUTF16 = UNICODEToUTF16;\n/**\n * UTF-16 (JavaScript Unicode array) to UTF-16BE\n *\n * @link https://www.ietf.org/rfc/rfc2781.txt\n * UTF-16, an encoding of ISO 10646\n */\n\nfunction UNICODEToUTF16BE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var c;\n\n  while (i < len) {\n    c = data[i++];\n\n    if (c <= 0xFF) {\n      results[results.length] = 0;\n      results[results.length] = c;\n    } else if (c <= 0xFFFF) {\n      results[results.length] = c >> 8 & 0xFF;\n      results[results.length] = c & 0xFF;\n    }\n  }\n\n  return results;\n}\n\nexports.UNICODEToUTF16BE = UNICODEToUTF16BE;\n/**\n * UTF-16 (JavaScript Unicode array) to UTF-16LE\n *\n * @link https://www.ietf.org/rfc/rfc2781.txt\n * UTF-16, an encoding of ISO 10646\n */\n\nfunction UNICODEToUTF16LE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var c;\n\n  while (i < len) {\n    c = data[i++];\n\n    if (c <= 0xFF) {\n      results[results.length] = c;\n      results[results.length] = 0;\n    } else if (c <= 0xFFFF) {\n      results[results.length] = c & 0xFF;\n      results[results.length] = c >> 8 & 0xFF;\n    }\n  }\n\n  return results;\n}\n\nexports.UNICODEToUTF16LE = UNICODEToUTF16LE;\n/**\n * UTF-16BE to UTF-16 (JavaScript Unicode array)\n *\n * @link https://www.ietf.org/rfc/rfc2781.txt\n * UTF-16, an encoding of ISO 10646\n */\n\nfunction UTF16BEToUNICODE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var c1, c2;\n\n  if (len >= 2 && (data[0] === 0xFE && data[1] === 0xFF || data[0] === 0xFF && data[1] === 0xFE)) {\n    i = 2;\n  }\n\n  while (i < len) {\n    c1 = data[i++];\n    c2 = data[i++];\n\n    if (c1 === 0) {\n      results[results.length] = c2;\n    } else {\n      results[results.length] = (c1 & 0xFF) << 8 | c2 & 0xFF;\n    }\n  }\n\n  return results;\n}\n\nexports.UTF16BEToUNICODE = UTF16BEToUNICODE;\n/**\n * UTF-16LE to UTF-16 (JavaScript Unicode array)\n *\n * @link https://www.ietf.org/rfc/rfc2781.txt\n * UTF-16, an encoding of ISO 10646\n */\n\nfunction UTF16LEToUNICODE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var c1, c2;\n\n  if (len >= 2 && (data[0] === 0xFE && data[1] === 0xFF || data[0] === 0xFF && data[1] === 0xFE)) {\n    i = 2;\n  }\n\n  while (i < len) {\n    c1 = data[i++];\n    c2 = data[i++];\n\n    if (c2 === 0) {\n      results[results.length] = c1;\n    } else {\n      results[results.length] = (c2 & 0xFF) << 8 | c1 & 0xFF;\n    }\n  }\n\n  return results;\n}\n\nexports.UTF16LEToUNICODE = UTF16LEToUNICODE;\n/**\n * UTF-16 to UTF-16 (JavaScript Unicode array)\n *\n * @link https://www.ietf.org/rfc/rfc2781.txt\n * UTF-16, an encoding of ISO 10646\n */\n\nfunction UTF16ToUNICODE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var isLE = false;\n  var first = true;\n  var c1, c2;\n\n  while (i < len) {\n    c1 = data[i++];\n    c2 = data[i++];\n\n    if (first && i === 2) {\n      first = false;\n\n      if (c1 === 0xFE && c2 === 0xFF) {\n        isLE = false;\n      } else if (c1 === 0xFF && c2 === 0xFE) {\n        // Little-endian\n        isLE = true;\n      } else {\n        isLE = EncodingDetect.isUTF16LE(data);\n        i = 0;\n      }\n\n      continue;\n    }\n\n    if (isLE) {\n      if (c2 === 0) {\n        results[results.length] = c1;\n      } else {\n        results[results.length] = (c2 & 0xFF) << 8 | c1 & 0xFF;\n      }\n    } else {\n      if (c1 === 0) {\n        results[results.length] = c2;\n      } else {\n        results[results.length] = (c1 & 0xFF) << 8 | c2 & 0xFF;\n      }\n    }\n  }\n\n  return results;\n}\n\nexports.UTF16ToUNICODE = UTF16ToUNICODE;\n/**\n * UTF-16 to UTF-16BE\n */\n\nfunction UTF16ToUTF16BE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var isLE = false;\n  var first = true;\n  var c1, c2;\n\n  while (i < len) {\n    c1 = data[i++];\n    c2 = data[i++];\n\n    if (first && i === 2) {\n      first = false;\n\n      if (c1 === 0xFE && c2 === 0xFF) {\n        isLE = false;\n      } else if (c1 === 0xFF && c2 === 0xFE) {\n        // Little-endian\n        isLE = true;\n      } else {\n        isLE = EncodingDetect.isUTF16LE(data);\n        i = 0;\n      }\n\n      continue;\n    }\n\n    if (isLE) {\n      results[results.length] = c2;\n      results[results.length] = c1;\n    } else {\n      results[results.length] = c1;\n      results[results.length] = c2;\n    }\n  }\n\n  return results;\n}\n\nexports.UTF16ToUTF16BE = UTF16ToUTF16BE;\n/**\n * UTF-16BE to UTF-16\n */\n\nfunction UTF16BEToUTF16(data, options) {\n  var isLE = false;\n  var bom;\n\n  if (options && options.bom) {\n    var optBom = options.bom;\n\n    if (!util.isString(optBom)) {\n      optBom = 'BE';\n    }\n\n    if (optBom.charAt(0).toUpperCase() === 'B') {\n      // Big-endian\n      bom = [0xFE, 0xFF];\n    } else {\n      // Little-endian\n      bom = [0xFF, 0xFE];\n      isLE = true;\n    }\n  }\n\n  var results = [];\n  var len = data && data.length;\n  var i = 0;\n\n  if (len >= 2 && (data[0] === 0xFE && data[1] === 0xFF || data[0] === 0xFF && data[1] === 0xFE)) {\n    i = 2;\n  }\n\n  if (bom) {\n    results[0] = bom[0];\n    results[1] = bom[1];\n  }\n\n  var c1, c2;\n\n  while (i < len) {\n    c1 = data[i++];\n    c2 = data[i++];\n\n    if (isLE) {\n      results[results.length] = c2;\n      results[results.length] = c1;\n    } else {\n      results[results.length] = c1;\n      results[results.length] = c2;\n    }\n  }\n\n  return results;\n}\n\nexports.UTF16BEToUTF16 = UTF16BEToUTF16;\n/**\n * UTF-16 to UTF-16LE\n */\n\nfunction UTF16ToUTF16LE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var isLE = false;\n  var first = true;\n  var c1, c2;\n\n  while (i < len) {\n    c1 = data[i++];\n    c2 = data[i++];\n\n    if (first && i === 2) {\n      first = false;\n\n      if (c1 === 0xFE && c2 === 0xFF) {\n        isLE = false;\n      } else if (c1 === 0xFF && c2 === 0xFE) {\n        // Little-endian\n        isLE = true;\n      } else {\n        isLE = EncodingDetect.isUTF16LE(data);\n        i = 0;\n      }\n\n      continue;\n    }\n\n    if (isLE) {\n      results[results.length] = c1;\n      results[results.length] = c2;\n    } else {\n      results[results.length] = c2;\n      results[results.length] = c1;\n    }\n  }\n\n  return results;\n}\n\nexports.UTF16ToUTF16LE = UTF16ToUTF16LE;\n/**\n * UTF-16LE to UTF-16\n */\n\nfunction UTF16LEToUTF16(data, options) {\n  var isLE = false;\n  var bom;\n\n  if (options && options.bom) {\n    var optBom = options.bom;\n\n    if (!util.isString(optBom)) {\n      optBom = 'BE';\n    }\n\n    if (optBom.charAt(0).toUpperCase() === 'B') {\n      // Big-endian\n      bom = [0xFE, 0xFF];\n    } else {\n      // Little-endian\n      bom = [0xFF, 0xFE];\n      isLE = true;\n    }\n  }\n\n  var results = [];\n  var len = data && data.length;\n  var i = 0;\n\n  if (len >= 2 && (data[0] === 0xFE && data[1] === 0xFF || data[0] === 0xFF && data[1] === 0xFE)) {\n    i = 2;\n  }\n\n  if (bom) {\n    results[0] = bom[0];\n    results[1] = bom[1];\n  }\n\n  var c1, c2;\n\n  while (i < len) {\n    c1 = data[i++];\n    c2 = data[i++];\n\n    if (isLE) {\n      results[results.length] = c1;\n      results[results.length] = c2;\n    } else {\n      results[results.length] = c2;\n      results[results.length] = c1;\n    }\n  }\n\n  return results;\n}\n\nexports.UTF16LEToUTF16 = UTF16LEToUTF16;\n/**\n * UTF-16BE to UTF-16LE\n */\n\nfunction UTF16BEToUTF16LE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var c1, c2;\n\n  if (len >= 2 && (data[0] === 0xFE && data[1] === 0xFF || data[0] === 0xFF && data[1] === 0xFE)) {\n    i = 2;\n  }\n\n  while (i < len) {\n    c1 = data[i++];\n    c2 = data[i++];\n    results[results.length] = c2;\n    results[results.length] = c1;\n  }\n\n  return results;\n}\n\nexports.UTF16BEToUTF16LE = UTF16BEToUTF16LE;\n/**\n * UTF-16LE to UTF-16BE\n */\n\nfunction UTF16LEToUTF16BE(data) {\n  return UTF16BEToUTF16LE(data);\n}\n\nexports.UTF16LEToUTF16BE = UTF16LEToUTF16BE;\n/**\n * UTF-16 (JavaScript Unicode array) to JIS\n */\n\nfunction UNICODEToJIS(data) {\n  return UTF8ToJIS(UNICODEToUTF8(data));\n}\n\nexports.UNICODEToJIS = UNICODEToJIS;\n/**\n * JIS to UTF-16 (JavaScript Unicode array)\n */\n\nfunction JISToUNICODE(data) {\n  return UTF8ToUNICODE(JISToUTF8(data));\n}\n\nexports.JISToUNICODE = JISToUNICODE;\n/**\n * UTF-16 (JavaScript Unicode array) to EUCJP\n */\n\nfunction UNICODEToEUCJP(data) {\n  return UTF8ToEUCJP(UNICODEToUTF8(data));\n}\n\nexports.UNICODEToEUCJP = UNICODEToEUCJP;\n/**\n * EUCJP to UTF-16 (JavaScript Unicode array)\n */\n\nfunction EUCJPToUNICODE(data) {\n  return UTF8ToUNICODE(EUCJPToUTF8(data));\n}\n\nexports.EUCJPToUNICODE = EUCJPToUNICODE;\n/**\n * UTF-16 (JavaScript Unicode array) to SJIS\n */\n\nfunction UNICODEToSJIS(data) {\n  return UTF8ToSJIS(UNICODEToUTF8(data));\n}\n\nexports.UNICODEToSJIS = UNICODEToSJIS;\n/**\n * SJIS to UTF-16 (JavaScript Unicode array)\n */\n\nfunction SJISToUNICODE(data) {\n  return UTF8ToUNICODE(SJISToUTF8(data));\n}\n\nexports.SJISToUNICODE = SJISToUNICODE;\n/**\n * UTF-8 to UTF-16\n */\n\nfunction UTF8ToUTF16(data, options) {\n  return UNICODEToUTF16(UTF8ToUNICODE(data), options);\n}\n\nexports.UTF8ToUTF16 = UTF8ToUTF16;\n/**\n * UTF-16 to UTF-8\n */\n\nfunction UTF16ToUTF8(data) {\n  return UNICODEToUTF8(UTF16ToUNICODE(data));\n}\n\nexports.UTF16ToUTF8 = UTF16ToUTF8;\n/**\n * UTF-8 to UTF-16BE\n */\n\nfunction UTF8ToUTF16BE(data) {\n  return UNICODEToUTF16BE(UTF8ToUNICODE(data));\n}\n\nexports.UTF8ToUTF16BE = UTF8ToUTF16BE;\n/**\n * UTF-16BE to UTF-8\n */\n\nfunction UTF16BEToUTF8(data) {\n  return UNICODEToUTF8(UTF16BEToUNICODE(data));\n}\n\nexports.UTF16BEToUTF8 = UTF16BEToUTF8;\n/**\n * UTF-8 to UTF-16LE\n */\n\nfunction UTF8ToUTF16LE(data) {\n  return UNICODEToUTF16LE(UTF8ToUNICODE(data));\n}\n\nexports.UTF8ToUTF16LE = UTF8ToUTF16LE;\n/**\n * UTF-16LE to UTF-8\n */\n\nfunction UTF16LEToUTF8(data) {\n  return UNICODEToUTF8(UTF16LEToUNICODE(data));\n}\n\nexports.UTF16LEToUTF8 = UTF16LEToUTF8;\n/**\n * JIS to UTF-16\n */\n\nfunction JISToUTF16(data, options) {\n  return UTF8ToUTF16(JISToUTF8(data), options);\n}\n\nexports.JISToUTF16 = JISToUTF16;\n/**\n * UTF-16 to JIS\n */\n\nfunction UTF16ToJIS(data) {\n  return UTF8ToJIS(UTF16ToUTF8(data));\n}\n\nexports.UTF16ToJIS = UTF16ToJIS;\n/**\n * JIS to UTF-16BE\n */\n\nfunction JISToUTF16BE(data) {\n  return UTF8ToUTF16BE(JISToUTF8(data));\n}\n\nexports.JISToUTF16BE = JISToUTF16BE;\n/**\n * UTF-16BE to JIS\n */\n\nfunction UTF16BEToJIS(data) {\n  return UTF8ToJIS(UTF16BEToUTF8(data));\n}\n\nexports.UTF16BEToJIS = UTF16BEToJIS;\n/**\n * JIS to UTF-16LE\n */\n\nfunction JISToUTF16LE(data) {\n  return UTF8ToUTF16LE(JISToUTF8(data));\n}\n\nexports.JISToUTF16LE = JISToUTF16LE;\n/**\n * UTF-16LE to JIS\n */\n\nfunction UTF16LEToJIS(data) {\n  return UTF8ToJIS(UTF16LEToUTF8(data));\n}\n\nexports.UTF16LEToJIS = UTF16LEToJIS;\n/**\n * EUC-JP to UTF-16\n */\n\nfunction EUCJPToUTF16(data, options) {\n  return UTF8ToUTF16(EUCJPToUTF8(data), options);\n}\n\nexports.EUCJPToUTF16 = EUCJPToUTF16;\n/**\n * UTF-16 to EUC-JP\n */\n\nfunction UTF16ToEUCJP(data) {\n  return UTF8ToEUCJP(UTF16ToUTF8(data));\n}\n\nexports.UTF16ToEUCJP = UTF16ToEUCJP;\n/**\n * EUC-JP to UTF-16BE\n */\n\nfunction EUCJPToUTF16BE(data) {\n  return UTF8ToUTF16BE(EUCJPToUTF8(data));\n}\n\nexports.EUCJPToUTF16BE = EUCJPToUTF16BE;\n/**\n * UTF-16BE to EUC-JP\n */\n\nfunction UTF16BEToEUCJP(data) {\n  return UTF8ToEUCJP(UTF16BEToUTF8(data));\n}\n\nexports.UTF16BEToEUCJP = UTF16BEToEUCJP;\n/**\n * EUC-JP to UTF-16LE\n */\n\nfunction EUCJPToUTF16LE(data) {\n  return UTF8ToUTF16LE(EUCJPToUTF8(data));\n}\n\nexports.EUCJPToUTF16LE = EUCJPToUTF16LE;\n/**\n * UTF-16LE to EUC-JP\n */\n\nfunction UTF16LEToEUCJP(data) {\n  return UTF8ToEUCJP(UTF16LEToUTF8(data));\n}\n\nexports.UTF16LEToEUCJP = UTF16LEToEUCJP;\n/**\n * SJIS to UTF-16\n */\n\nfunction SJISToUTF16(data, options) {\n  return UTF8ToUTF16(SJISToUTF8(data), options);\n}\n\nexports.SJISToUTF16 = SJISToUTF16;\n/**\n * UTF-16 to SJIS\n */\n\nfunction UTF16ToSJIS(data) {\n  return UTF8ToSJIS(UTF16ToUTF8(data));\n}\n\nexports.UTF16ToSJIS = UTF16ToSJIS;\n/**\n * SJIS to UTF-16BE\n */\n\nfunction SJISToUTF16BE(data) {\n  return UTF8ToUTF16BE(SJISToUTF8(data));\n}\n\nexports.SJISToUTF16BE = SJISToUTF16BE;\n/**\n * UTF-16BE to SJIS\n */\n\nfunction UTF16BEToSJIS(data) {\n  return UTF8ToSJIS(UTF16BEToUTF8(data));\n}\n\nexports.UTF16BEToSJIS = UTF16BEToSJIS;\n/**\n * SJIS to UTF-16LE\n */\n\nfunction SJISToUTF16LE(data) {\n  return UTF8ToUTF16LE(SJISToUTF8(data));\n}\n\nexports.SJISToUTF16LE = SJISToUTF16LE;\n/**\n * UTF-16LE to SJIS\n */\n\nfunction UTF16LEToSJIS(data) {\n  return UTF8ToSJIS(UTF16LEToUTF8(data));\n}\n\nexports.UTF16LEToSJIS = UTF16LEToSJIS;","map":{"version":3,"sources":["/home/hiro/PokeChart/node_modules/encoding-japanese/src/encoding-convert.js"],"names":["config","require","util","EncodingDetect","EncodingTable","JISToSJIS","data","results","index","i","len","length","b1","b2","UNKNOWN_CHARACTER","exports","JISToEUCJP","SJISToJIS","esc","SJISToEUCJP","EUCJPToJIS","b","EUCJPToSJIS","SJISToUTF8","init_JIS_TO_UTF8_TABLE","u2","u3","jis","utf8","JIS_TO_UTF8_TABLE","EUCJPToUTF8","j2","j3","JISX0212_TO_UTF8_TABLE","JISToUTF8","UTF8ToSJIS","UTF8_TO_JIS_TABLE","UTF8ToEUCJP","UTF8_TO_JISX0212_TABLE","UTF8ToJIS","UNICODEToUTF8","c","second","UTF8ToUNICODE","n","c2","c3","c4","code","UNICODEToUTF16","options","bom","optBom","isString","utf16","charAt","toUpperCase","UNICODEToUTF16BE","UNICODEToUTF16LE","UTF16BEToUNICODE","c1","UTF16LEToUNICODE","UTF16ToUNICODE","isLE","first","isUTF16LE","UTF16ToUTF16BE","UTF16BEToUTF16","UTF16ToUTF16LE","UTF16LEToUTF16","UTF16BEToUTF16LE","UTF16LEToUTF16BE","UNICODEToJIS","JISToUNICODE","UNICODEToEUCJP","EUCJPToUNICODE","UNICODEToSJIS","SJISToUNICODE","UTF8ToUTF16","UTF16ToUTF8","UTF8ToUTF16BE","UTF16BEToUTF8","UTF8ToUTF16LE","UTF16LEToUTF8","JISToUTF16","UTF16ToJIS","JISToUTF16BE","UTF16BEToJIS","JISToUTF16LE","UTF16LEToJIS","EUCJPToUTF16","UTF16ToEUCJP","EUCJPToUTF16BE","UTF16BEToEUCJP","EUCJPToUTF16LE","UTF16LEToEUCJP","SJISToUTF16","UTF16ToSJIS","SJISToUTF16BE","UTF16BEToSJIS","SJISToUTF16LE","UTF16LEToSJIS"],"mappings":"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","sourcesContent":["var config = require('./config');\nvar util = require('./util');\nvar EncodingDetect = require('./encoding-detect');\nvar EncodingTable = require('./encoding-table');\n\n/**\n * JIS to SJIS\n */\nfunction JISToSJIS(data) {\n  var results = [];\n  var index = 0;\n  var i = 0;\n  var len = data && data.length;\n  var b1, b2;\n\n  for (; i < len; i++) {\n    // escape sequence\n    while (data[i] === 0x1B) {\n      if ((data[i + 1] === 0x24 && data[i + 2] === 0x42) ||\n          (data[i + 1] === 0x24 && data[i + 2] === 0x40)) {\n        index = 1;\n      } else if ((data[i + 1] === 0x28 && data[i + 2] === 0x49)) {\n        index = 2;\n      } else if (data[i + 1] === 0x24 && data[i + 2] === 0x28 &&\n                 data[i + 3] === 0x44) {\n        index = 3;\n        i++;\n      } else {\n        index = 0;\n      }\n\n      i += 3;\n      if (data[i] === void 0) {\n        return results;\n      }\n    }\n\n    if (index === 1) {\n      b1 = data[i];\n      b2 = data[++i];\n      if (b1 & 0x01) {\n        b1 >>= 1;\n        if (b1 < 0x2F) {\n          b1 += 0x71;\n        } else {\n          b1 -= 0x4F;\n        }\n        if (b2 > 0x5F) {\n          b2 += 0x20;\n        } else {\n          b2 += 0x1F;\n        }\n      } else {\n        b1 >>= 1;\n        if (b1 <= 0x2F) {\n          b1 += 0x70;\n        } else {\n          b1 -= 0x50;\n        }\n        b2 += 0x7E;\n      }\n      results[results.length] = b1 & 0xFF;\n      results[results.length] = b2 & 0xFF;\n    } else if (index === 2) {\n      results[results.length] = data[i] + 0x80 & 0xFF;\n    } else if (index === 3) {\n      // Shift_JIS cannot convert JIS X 0212:1990.\n      results[results.length] = config.UNKNOWN_CHARACTER;\n    } else {\n      results[results.length] = data[i] & 0xFF;\n    }\n  }\n\n  return results;\n}\nexports.JISToSJIS = JISToSJIS;\n\n/**\n * JIS to EUCJP\n */\nfunction JISToEUCJP(data) {\n  var results = [];\n  var index = 0;\n  var len = data && data.length;\n  var i = 0;\n\n  for (; i < len; i++) {\n\n    // escape sequence\n    while (data[i] === 0x1B) {\n      if ((data[i + 1] === 0x24 && data[i + 2] === 0x42) ||\n          (data[i + 1] === 0x24 && data[i + 2] === 0x40)) {\n        index = 1;\n      } else if ((data[i + 1] === 0x28 && data[i + 2] === 0x49)) {\n        index = 2;\n      } else if (data[i + 1] === 0x24 && data[i + 2] === 0x28 &&\n                 data[i + 3] === 0x44) {\n        index = 3;\n        i++;\n      } else {\n        index = 0;\n      }\n\n      i += 3;\n      if (data[i] === void 0) {\n        return results;\n      }\n    }\n\n    if (index === 1) {\n      results[results.length] = data[i] + 0x80 & 0xFF;\n      results[results.length] = data[++i] + 0x80 & 0xFF;\n    } else if (index === 2) {\n      results[results.length] = 0x8E;\n      results[results.length] = data[i] + 0x80 & 0xFF;\n    } else if (index === 3) {\n      results[results.length] = 0x8F;\n      results[results.length] = data[i] + 0x80 & 0xFF;\n      results[results.length] = data[++i] + 0x80 & 0xFF;\n    } else {\n      results[results.length] = data[i] & 0xFF;\n    }\n  }\n\n  return results;\n}\nexports.JISToEUCJP = JISToEUCJP;\n\n/**\n * SJIS to JIS\n */\nfunction SJISToJIS(data) {\n  var results = [];\n  var index = 0;\n  var len = data && data.length;\n  var i = 0;\n  var b1, b2;\n\n  var esc = [\n    0x1B, 0x28, 0x42,\n    0x1B, 0x24, 0x42,\n    0x1B, 0x28, 0x49\n  ];\n\n  for (; i < len; i++) {\n    b1 = data[i];\n    if (b1 >= 0xA1 && b1 <= 0xDF) {\n      if (index !== 2) {\n        index = 2;\n        results[results.length] = esc[6];\n        results[results.length] = esc[7];\n        results[results.length] = esc[8];\n      }\n      results[results.length] = b1 - 0x80 & 0xFF;\n    } else if (b1 >= 0x80) {\n      if (index !== 1) {\n        index = 1;\n        results[results.length] = esc[3];\n        results[results.length] = esc[4];\n        results[results.length] = esc[5];\n      }\n\n      b1 <<= 1;\n      b2 = data[++i];\n      if (b2 < 0x9F) {\n        if (b1 < 0x13F) {\n          b1 -= 0xE1;\n        } else {\n          b1 -= 0x61;\n        }\n        if (b2 > 0x7E) {\n          b2 -= 0x20;\n        } else {\n          b2 -= 0x1F;\n        }\n      } else {\n        if (b1 < 0x13F) {\n          b1 -= 0xE0;\n        } else {\n          b1 -= 0x60;\n        }\n        b2 -= 0x7E;\n      }\n      results[results.length] = b1 & 0xFF;\n      results[results.length] = b2 & 0xFF;\n    } else {\n      if (index !== 0) {\n        index = 0;\n        results[results.length] = esc[0];\n        results[results.length] = esc[1];\n        results[results.length] = esc[2];\n      }\n      results[results.length] = b1 & 0xFF;\n    }\n  }\n\n  if (index !== 0) {\n    results[results.length] = esc[0];\n    results[results.length] = esc[1];\n    results[results.length] = esc[2];\n  }\n\n  return results;\n}\nexports.SJISToJIS = SJISToJIS;\n\n/**\n * SJIS to EUCJP\n */\nfunction SJISToEUCJP(data) {\n  var results = [];\n  var len = data && data.length;\n  var i = 0;\n  var b1, b2;\n\n  for (; i < len; i++) {\n    b1 = data[i];\n    if (b1 >= 0xA1 && b1 <= 0xDF) {\n      results[results.length] = 0x8E;\n      results[results.length] = b1;\n    } else if (b1 >= 0x81) {\n      b2 = data[++i];\n      b1 <<= 1;\n      if (b2 < 0x9F) {\n        if (b1 < 0x13F) {\n          b1 -= 0x61;\n        } else {\n          b1 -= 0xE1;\n        }\n\n        if (b2 > 0x7E) {\n          b2 += 0x60;\n        } else {\n          b2 += 0x61;\n        }\n      } else {\n        if (b1 < 0x13F) {\n          b1 -= 0x60;\n        } else {\n          b1 -= 0xE0;\n        }\n        b2 += 0x02;\n      }\n      results[results.length] = b1 & 0xFF;\n      results[results.length] = b2 & 0xFF;\n    } else {\n      results[results.length] = b1 & 0xFF;\n    }\n  }\n\n  return results;\n}\nexports.SJISToEUCJP = SJISToEUCJP;\n\n/**\n * EUCJP to JIS\n */\nfunction EUCJPToJIS(data) {\n  var results = [];\n  var index = 0;\n  var len = data && data.length;\n  var i = 0;\n  var b;\n\n  // escape sequence\n  var esc = [\n    0x1B, 0x28, 0x42,\n    0x1B, 0x24, 0x42,\n    0x1B, 0x28, 0x49,\n    0x1B, 0x24, 0x28, 0x44\n  ];\n\n  for (; i < len; i++) {\n    b = data[i];\n    if (b === 0x8E) {\n      if (index !== 2) {\n        index = 2;\n        results[results.length] = esc[6];\n        results[results.length] = esc[7];\n        results[results.length] = esc[8];\n      }\n      results[results.length] = data[++i] - 0x80 & 0xFF;\n    } else if (b === 0x8F) {\n      if (index !== 3) {\n        index = 3;\n        results[results.length] = esc[9];\n        results[results.length] = esc[10];\n        results[results.length] = esc[11];\n        results[results.length] = esc[12];\n      }\n      results[results.length] = data[++i] - 0x80 & 0xFF;\n      results[results.length] = data[++i] - 0x80 & 0xFF;\n    } else if (b > 0x8E) {\n      if (index !== 1) {\n        index = 1;\n        results[results.length] = esc[3];\n        results[results.length] = esc[4];\n        results[results.length] = esc[5];\n      }\n      results[results.length] = b - 0x80 & 0xFF;\n      results[results.length] = data[++i] - 0x80 & 0xFF;\n    } else {\n      if (index !== 0) {\n        index = 0;\n        results[results.length] = esc[0];\n        results[results.length] = esc[1];\n        results[results.length] = esc[2];\n      }\n      results[results.length] = b & 0xFF;\n    }\n  }\n\n  if (index !== 0) {\n    results[results.length] = esc[0];\n    results[results.length] = esc[1];\n    results[results.length] = esc[2];\n  }\n\n  return results;\n}\nexports.EUCJPToJIS = EUCJPToJIS;\n\n/**\n * EUCJP to SJIS\n */\nfunction EUCJPToSJIS(data) {\n  var results = [];\n  var len = data && data.length;\n  var i = 0;\n  var b1, b2;\n\n  for (; i < len; i++) {\n    b1 = data[i];\n    if (b1 === 0x8F) {\n      results[results.length] = config.UNKNOWN_CHARACTER;\n      i += 2;\n    } else if (b1 > 0x8E) {\n      b2 = data[++i];\n      if (b1 & 0x01) {\n        b1 >>= 1;\n        if (b1 < 0x6F) {\n          b1 += 0x31;\n        } else {\n          b1 += 0x71;\n        }\n\n        if (b2 > 0xDF) {\n          b2 -= 0x60;\n        } else {\n          b2 -= 0x61;\n        }\n      } else {\n        b1 >>= 1;\n        if (b1 <= 0x6F) {\n          b1 += 0x30;\n        } else {\n          b1 += 0x70;\n        }\n        b2 -= 0x02;\n      }\n      results[results.length] = b1 & 0xFF;\n      results[results.length] = b2 & 0xFF;\n    } else if (b1 === 0x8E) {\n      results[results.length] = data[++i] & 0xFF;\n    } else {\n      results[results.length] = b1 & 0xFF;\n    }\n  }\n\n  return results;\n}\nexports.EUCJPToSJIS = EUCJPToSJIS;\n\n/**\n * SJIS To UTF-8\n */\nfunction SJISToUTF8(data) {\n  config.init_JIS_TO_UTF8_TABLE();\n\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var b, b1, b2, u2, u3, jis, utf8;\n\n  for (; i < len; i++) {\n    b = data[i];\n    if (b >= 0xA1 && b <= 0xDF) {\n      b2 = b - 0x40;\n      u2 = 0xBC | ((b2 >> 6) & 0x03);\n      u3 = 0x80 | (b2 & 0x3F);\n\n      results[results.length] = 0xEF;\n      results[results.length] = u2 & 0xFF;\n      results[results.length] = u3 & 0xFF;\n    } else if (b >= 0x80) {\n      b1 = b << 1;\n      b2 = data[++i];\n\n      if (b2 < 0x9F) {\n        if (b1 < 0x13F) {\n          b1 -= 0xE1;\n        } else {\n          b1 -= 0x61;\n        }\n\n        if (b2 > 0x7E) {\n          b2 -= 0x20;\n        } else {\n          b2 -= 0x1F;\n        }\n      } else {\n        if (b1 < 0x13F) {\n          b1 -= 0xE0;\n        } else {\n          b1 -= 0x60;\n        }\n        b2 -= 0x7E;\n      }\n\n      b1 &= 0xFF;\n      jis = (b1 << 8) + b2;\n\n      utf8 = EncodingTable.JIS_TO_UTF8_TABLE[jis];\n      if (utf8 === void 0) {\n        results[results.length] = config.UNKNOWN_CHARACTER;\n      } else {\n        if (utf8 < 0xFFFF) {\n          results[results.length] = utf8 >> 8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        } else {\n          results[results.length] = utf8 >> 16 & 0xFF;\n          results[results.length] = utf8 >> 8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        }\n      }\n    } else {\n      results[results.length] = data[i] & 0xFF;\n    }\n  }\n\n  return results;\n}\nexports.SJISToUTF8 = SJISToUTF8;\n\n/**\n * EUC-JP to UTF-8\n */\nfunction EUCJPToUTF8(data) {\n  config.init_JIS_TO_UTF8_TABLE();\n\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var b, b2, u2, u3, j2, j3, jis, utf8;\n\n  for (; i < len; i++) {\n    b = data[i];\n    if (b === 0x8E) {\n      b2 = data[++i] - 0x40;\n      u2 = 0xBC | ((b2 >> 6) & 0x03);\n      u3 = 0x80 | (b2 & 0x3F);\n\n      results[results.length] = 0xEF;\n      results[results.length] = u2 & 0xFF;\n      results[results.length] = u3 & 0xFF;\n    } else if (b === 0x8F) {\n      j2 = data[++i] - 0x80;\n      j3 = data[++i] - 0x80;\n      jis = (j2 << 8) + j3;\n\n      utf8 = EncodingTable.JISX0212_TO_UTF8_TABLE[jis];\n      if (utf8 === void 0) {\n        results[results.length] = config.UNKNOWN_CHARACTER;\n      } else {\n        if (utf8 < 0xFFFF) {\n          results[results.length] = utf8 >> 8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        } else {\n          results[results.length] = utf8 >> 16 & 0xFF;\n          results[results.length] = utf8 >>  8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        }\n      }\n    } else if (b >= 0x80) {\n      jis = ((b - 0x80) << 8) + (data[++i] - 0x80);\n\n      utf8 = EncodingTable.JIS_TO_UTF8_TABLE[jis];\n      if (utf8 === void 0) {\n        results[results.length] = config.UNKNOWN_CHARACTER;\n      } else {\n        if (utf8 < 0xFFFF) {\n          results[results.length] = utf8 >> 8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        } else {\n          results[results.length] = utf8 >> 16 & 0xFF;\n          results[results.length] = utf8 >>  8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        }\n      }\n    } else {\n      results[results.length] = data[i] & 0xFF;\n    }\n  }\n\n  return results;\n}\nexports.EUCJPToUTF8 = EUCJPToUTF8;\n\n/**\n * JIS to UTF-8\n */\nfunction JISToUTF8(data) {\n  config.init_JIS_TO_UTF8_TABLE();\n\n  var results = [];\n  var index = 0;\n  var i = 0;\n  var len = data && data.length;\n  var b2, u2, u3, jis, utf8;\n\n  for (; i < len; i++) {\n    while (data[i] === 0x1B) {\n      if ((data[i + 1] === 0x24 && data[i + 2] === 0x42) ||\n          (data[i + 1] === 0x24 && data[i + 2] === 0x40)) {\n        index = 1;\n      } else if (data[i + 1] === 0x28 && data[i + 2] === 0x49) {\n        index = 2;\n      } else if (data[i + 1] === 0x24 && data[i + 2] === 0x28 &&\n                 data[i + 3] === 0x44) {\n        index = 3;\n        i++;\n      } else {\n        index = 0;\n      }\n\n      i += 3;\n      if (data[i] === void 0) {\n        return results;\n      }\n    }\n\n    if (index === 1) {\n      jis = (data[i] << 8) + data[++i];\n\n      utf8 = EncodingTable.JIS_TO_UTF8_TABLE[jis];\n      if (utf8 === void 0) {\n        results[results.length] = config.UNKNOWN_CHARACTER;\n      } else {\n        if (utf8 < 0xFFFF) {\n          results[results.length] = utf8 >> 8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        } else {\n          results[results.length] = utf8 >> 16 & 0xFF;\n          results[results.length] = utf8 >>  8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        }\n      }\n    } else if (index === 2) {\n      b2 = data[i] + 0x40;\n      u2 = 0xBC | ((b2 >> 6) & 0x03);\n      u3 = 0x80 | (b2 & 0x3F);\n\n      results[results.length] = 0xEF;\n      results[results.length] = u2 & 0xFF;\n      results[results.length] = u3 & 0xFF;\n    } else if (index === 3) {\n      jis = (data[i] << 8) + data[++i];\n\n      utf8 = EncodingTable.JISX0212_TO_UTF8_TABLE[jis];\n      if (utf8 === void 0) {\n        results[results.length] = config.UNKNOWN_CHARACTER;\n      } else {\n        if (utf8 < 0xFFFF) {\n          results[results.length] = utf8 >> 8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        } else {\n          results[results.length] = utf8 >> 16 & 0xFF;\n          results[results.length] = utf8 >>  8 & 0xFF;\n          results[results.length] = utf8 & 0xFF;\n        }\n      }\n    } else {\n      results[results.length] = data[i] & 0xFF;\n    }\n  }\n\n  return results;\n}\nexports.JISToUTF8 = JISToUTF8;\n\n/**\n * UTF-8 to SJIS\n */\nfunction UTF8ToSJIS(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var b, b1, b2, utf8, jis;\n\n  for (; i < len; i++) {\n    b = data[i];\n    if (b >= 0x80) {\n      if (b <= 0xDF) {\n        // 2 bytes\n        utf8 = (b << 8) + data[++i];\n      } else {\n        // 3 bytes\n        utf8 = (b << 16) +\n               (data[++i] << 8) +\n               (data[++i] & 0xFF);\n      }\n\n      jis = EncodingTable.UTF8_TO_JIS_TABLE[utf8];\n      if (jis === void 0) {\n        results[results.length] = config.UNKNOWN_CHARACTER;\n      } else {\n        if (jis < 0xFF) {\n          results[results.length] = jis + 0x80;\n        } else {\n          if (jis > 0x10000) {\n            jis -= 0x10000;\n          }\n\n          b1 = jis >> 8;\n          b2 = jis & 0xFF;\n          if (b1 & 0x01) {\n            b1 >>= 1;\n            if (b1 < 0x2F) {\n              b1 += 0x71;\n            } else {\n              b1 -= 0x4F;\n            }\n\n            if (b2 > 0x5F) {\n              b2 += 0x20;\n            } else {\n              b2 += 0x1F;\n            }\n          } else {\n            b1 >>= 1;\n            if (b1 <= 0x2F) {\n              b1 += 0x70;\n            } else {\n              b1 -= 0x50;\n            }\n            b2 += 0x7E;\n          }\n          results[results.length] = b1 & 0xFF;\n          results[results.length] = b2 & 0xFF;\n        }\n      }\n    } else {\n      results[results.length] = data[i] & 0xFF;\n    }\n  }\n\n  return results;\n}\nexports.UTF8ToSJIS = UTF8ToSJIS;\n\n/**\n * UTF-8 to EUC-JP\n */\nfunction UTF8ToEUCJP(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var b, utf8, jis;\n\n  for (; i < len; i++) {\n    b = data[i];\n    if (b >= 0x80) {\n      if (b <= 0xDF) {\n        utf8 = (data[i++] << 8) + data[i];\n      } else {\n        utf8 = (data[i++] << 16) +\n               (data[i++] << 8) +\n               (data[i] & 0xFF);\n      }\n\n      jis = EncodingTable.UTF8_TO_JIS_TABLE[utf8];\n      if (jis === void 0) {\n        jis = EncodingTable.UTF8_TO_JISX0212_TABLE[utf8];\n        if (jis === void 0) {\n          results[results.length] = config.UNKNOWN_CHARACTER;\n        } else {\n          results[results.length] = 0x8F;\n          results[results.length] = (jis >> 8) - 0x80 & 0xFF;\n          results[results.length] = (jis & 0xFF) - 0x80 & 0xFF;\n        }\n      } else {\n        if (jis > 0x10000) {\n          jis -= 0x10000;\n        }\n        if (jis < 0xFF) {\n          results[results.length] = 0x8E;\n          results[results.length] = jis - 0x80 & 0xFF;\n        } else {\n          results[results.length] = (jis >> 8) - 0x80 & 0xFF;\n          results[results.length] = (jis & 0xFF) - 0x80 & 0xFF;\n        }\n      }\n    } else {\n      results[results.length] = data[i] & 0xFF;\n    }\n  }\n\n  return results;\n}\nexports.UTF8ToEUCJP = UTF8ToEUCJP;\n\n/**\n * UTF-8 to JIS\n */\nfunction UTF8ToJIS(data) {\n  var results = [];\n  var index = 0;\n  var len = data && data.length;\n  var i = 0;\n  var b, utf8, jis;\n  var esc = [\n    0x1B, 0x28, 0x42,\n    0x1B, 0x24, 0x42,\n    0x1B, 0x28, 0x49,\n    0x1B, 0x24, 0x28, 0x44\n  ];\n\n  for (; i < len; i++) {\n    b = data[i];\n    if (b < 0x80) {\n      if (index !== 0) {\n        index = 0;\n        results[results.length] = esc[0];\n        results[results.length] = esc[1];\n        results[results.length] = esc[2];\n      }\n      results[results.length] = b & 0xFF;\n    } else {\n      if (b <= 0xDF) {\n        utf8 = (data[i] << 8) + data[++i];\n      } else {\n        utf8 = (data[i] << 16) + (data[++i] << 8) + data[++i];\n      }\n\n      jis = EncodingTable.UTF8_TO_JIS_TABLE[utf8];\n      if (jis === void 0) {\n        jis = EncodingTable.UTF8_TO_JISX0212_TABLE[utf8];\n        if (jis === void 0) {\n          if (index !== 0) {\n            index = 0;\n            results[results.length] = esc[0];\n            results[results.length] = esc[1];\n            results[results.length] = esc[2];\n          }\n          results[results.length] = config.UNKNOWN_CHARACTER;\n        } else {\n          // JIS X 0212:1990\n          if (index !== 3) {\n            index = 3;\n            results[results.length] = esc[9];\n            results[results.length] = esc[10];\n            results[results.length] = esc[11];\n            results[results.length] = esc[12];\n          }\n          results[results.length] = jis >> 8 & 0xFF;\n          results[results.length] = jis & 0xFF;\n        }\n      } else {\n        if (jis > 0x10000) {\n          jis -= 0x10000;\n        }\n        if (jis < 0xFF) {\n          // Halfwidth Katakana\n          if (index !== 2) {\n            index = 2;\n            results[results.length] = esc[6];\n            results[results.length] = esc[7];\n            results[results.length] = esc[8];\n          }\n          results[results.length] = jis & 0xFF;\n        } else {\n          if (index !== 1) {\n            index = 1;\n            results[results.length] = esc[3];\n            results[results.length] = esc[4];\n            results[results.length] = esc[5];\n          }\n          results[results.length] = jis >> 8 & 0xFF;\n          results[results.length] = jis & 0xFF;\n        }\n      }\n    }\n  }\n\n  if (index !== 0) {\n    results[results.length] = esc[0];\n    results[results.length] = esc[1];\n    results[results.length] = esc[2];\n  }\n\n  return results;\n}\nexports.UTF8ToJIS = UTF8ToJIS;\n\n/**\n * UTF-16 (JavaScript Unicode array) to UTF-8\n */\nfunction UNICODEToUTF8(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var c, second;\n\n  for (; i < len; i++) {\n    c = data[i];\n\n    // high surrogate\n    if (c >= 0xD800 && c <= 0xDBFF && i + 1 < len) {\n      second = data[i + 1];\n      // low surrogate\n      if (second >= 0xDC00 && second <= 0xDFFF) {\n        c = (c - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n        i++;\n      }\n    }\n\n    if (c < 0x80) {\n      results[results.length] = c;\n    } else if (c < 0x800) {\n      results[results.length] = 0xC0 | ((c >> 6) & 0x1F);\n      results[results.length] = 0x80 | (c & 0x3F);\n    } else if (c < 0x10000) {\n      results[results.length] = 0xE0 | ((c >> 12) & 0xF);\n      results[results.length] = 0x80 | ((c >> 6) & 0x3F);\n      results[results.length] = 0x80 | (c & 0x3F);\n    } else if (c < 0x200000) {\n      results[results.length] = 0xF0 | ((c >> 18) & 0xF);\n      results[results.length] = 0x80 | ((c >> 12) & 0x3F);\n      results[results.length] = 0x80 | ((c >> 6) & 0x3F);\n      results[results.length] = 0x80 | (c & 0x3F);\n    }\n  }\n\n  return results;\n}\nexports.UNICODEToUTF8 = UNICODEToUTF8;\n\n/**\n * UTF-8 to UTF-16 (JavaScript Unicode array)\n */\nfunction UTF8ToUNICODE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var n, c, c2, c3, c4, code;\n\n  while (i < len) {\n    c = data[i++];\n    n = c >> 4;\n    if (n >= 0 && n <= 7) {\n      // 0xxx xxxx\n      code = c;\n    } else if (n === 12 || n === 13) {\n      // 110x xxxx\n      // 10xx xxxx\n      c2 = data[i++];\n      code = ((c & 0x1F) << 6) | (c2 & 0x3F);\n    } else if (n === 14) {\n      // 1110 xxxx\n      // 10xx xxxx\n      // 10xx xxxx\n      c2 = data[i++];\n      c3 = data[i++];\n      code = ((c & 0x0F) << 12) |\n             ((c2 & 0x3F) << 6) |\n              (c3 & 0x3F);\n    } else if (n === 15) {\n      // 1111 0xxx\n      // 10xx xxxx\n      // 10xx xxxx\n      // 10xx xxxx\n      c2 = data[i++];\n      c3 = data[i++];\n      c4 = data[i++];\n      code = ((c & 0x7) << 18)   |\n             ((c2 & 0x3F) << 12) |\n             ((c3 & 0x3F) << 6)  |\n              (c4 & 0x3F);\n    }\n\n    if (code <= 0xFFFF) {\n      results[results.length] = code;\n    } else {\n      // Split in surrogate halves\n      code -= 0x10000;\n      results[results.length] = (code >> 10) + 0xD800; // High surrogate\n      results[results.length] = (code % 0x400) + 0xDC00; // Low surrogate\n    }\n  }\n\n  return results;\n}\nexports.UTF8ToUNICODE = UTF8ToUNICODE;\n\n/**\n * UTF-16 (JavaScript Unicode array) to UTF-16\n *\n * UTF-16BE (big-endian)\n * Note: this function does not prepend the BOM by default.\n *\n * RFC 2781 4.3 Interpreting text labelled as UTF-16\n *   If the first two octets of the text is not 0xFE followed by\n *   0xFF, and is not 0xFF followed by 0xFE, then the text SHOULD be\n *   interpreted as being big-endian.\n *\n * @link https://www.ietf.org/rfc/rfc2781.txt\n * UTF-16, an encoding of ISO 10646\n */\nfunction UNICODEToUTF16(data, options) {\n  var results;\n\n  if (options && options.bom) {\n    var optBom = options.bom;\n    if (!util.isString(optBom)) {\n      optBom = 'BE';\n    }\n\n    var bom, utf16;\n    if (optBom.charAt(0).toUpperCase() === 'B') {\n      // Big-endian\n      bom = [0xFE, 0xFF];\n      utf16 = UNICODEToUTF16BE(data);\n    } else {\n      // Little-endian\n      bom = [0xFF, 0xFE];\n      utf16 = UNICODEToUTF16LE(data);\n    }\n\n    results = [];\n    results[0] = bom[0];\n    results[1] = bom[1];\n\n    for (var i = 0, len = utf16.length; i < len; i++) {\n      results[results.length] = utf16[i];\n    }\n  } else {\n    // Without BOM: Convert as BE (SHOULD).\n    results = UNICODEToUTF16BE(data);\n  }\n\n  return results;\n}\nexports.UNICODEToUTF16 = UNICODEToUTF16;\n\n/**\n * UTF-16 (JavaScript Unicode array) to UTF-16BE\n *\n * @link https://www.ietf.org/rfc/rfc2781.txt\n * UTF-16, an encoding of ISO 10646\n */\nfunction UNICODEToUTF16BE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var c;\n\n  while (i < len) {\n    c = data[i++];\n    if (c <= 0xFF) {\n      results[results.length] = 0;\n      results[results.length] = c;\n    } else if (c <= 0xFFFF) {\n      results[results.length] = c >> 8 & 0xFF;\n      results[results.length] = c & 0xFF;\n    }\n  }\n\n  return results;\n}\nexports.UNICODEToUTF16BE = UNICODEToUTF16BE;\n\n/**\n * UTF-16 (JavaScript Unicode array) to UTF-16LE\n *\n * @link https://www.ietf.org/rfc/rfc2781.txt\n * UTF-16, an encoding of ISO 10646\n */\nfunction UNICODEToUTF16LE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var c;\n\n  while (i < len) {\n    c = data[i++];\n    if (c <= 0xFF) {\n      results[results.length] = c;\n      results[results.length] = 0;\n    } else if (c <= 0xFFFF) {\n      results[results.length] = c & 0xFF;\n      results[results.length] = c >> 8 & 0xFF;\n    }\n  }\n\n  return results;\n}\nexports.UNICODEToUTF16LE = UNICODEToUTF16LE;\n\n/**\n * UTF-16BE to UTF-16 (JavaScript Unicode array)\n *\n * @link https://www.ietf.org/rfc/rfc2781.txt\n * UTF-16, an encoding of ISO 10646\n */\nfunction UTF16BEToUNICODE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var c1, c2;\n\n  if (len >= 2 &&\n      ((data[0] === 0xFE && data[1] === 0xFF) ||\n       (data[0] === 0xFF && data[1] === 0xFE))\n  ) {\n    i = 2;\n  }\n\n  while (i < len) {\n    c1 = data[i++];\n    c2 = data[i++];\n    if (c1 === 0) {\n      results[results.length] = c2;\n    } else {\n      results[results.length] = ((c1 & 0xFF) << 8) | (c2 & 0xFF);\n    }\n  }\n\n  return results;\n}\nexports.UTF16BEToUNICODE = UTF16BEToUNICODE;\n\n/**\n * UTF-16LE to UTF-16 (JavaScript Unicode array)\n *\n * @link https://www.ietf.org/rfc/rfc2781.txt\n * UTF-16, an encoding of ISO 10646\n */\nfunction UTF16LEToUNICODE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var c1, c2;\n\n  if (len >= 2 &&\n      ((data[0] === 0xFE && data[1] === 0xFF) ||\n       (data[0] === 0xFF && data[1] === 0xFE))\n  ) {\n    i = 2;\n  }\n\n  while (i < len) {\n    c1 = data[i++];\n    c2 = data[i++];\n    if (c2 === 0) {\n      results[results.length] = c1;\n    } else {\n      results[results.length] = ((c2 & 0xFF) << 8) | (c1 & 0xFF);\n    }\n  }\n\n  return results;\n}\nexports.UTF16LEToUNICODE = UTF16LEToUNICODE;\n\n/**\n * UTF-16 to UTF-16 (JavaScript Unicode array)\n *\n * @link https://www.ietf.org/rfc/rfc2781.txt\n * UTF-16, an encoding of ISO 10646\n */\nfunction UTF16ToUNICODE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var isLE = false;\n  var first = true;\n  var c1, c2;\n\n  while (i < len) {\n    c1 = data[i++];\n    c2 = data[i++];\n\n    if (first && i === 2) {\n      first = false;\n      if (c1 === 0xFE && c2 === 0xFF) {\n        isLE = false;\n      } else if (c1 === 0xFF && c2 === 0xFE) {\n        // Little-endian\n        isLE = true;\n      } else {\n        isLE = EncodingDetect.isUTF16LE(data);\n        i = 0;\n      }\n      continue;\n    }\n\n    if (isLE) {\n      if (c2 === 0) {\n        results[results.length] = c1;\n      } else {\n        results[results.length] = ((c2 & 0xFF) << 8) | (c1 & 0xFF);\n      }\n    } else {\n      if (c1 === 0) {\n        results[results.length] = c2;\n      } else {\n        results[results.length] = ((c1 & 0xFF) << 8) | (c2 & 0xFF);\n      }\n    }\n  }\n\n  return results;\n}\nexports.UTF16ToUNICODE = UTF16ToUNICODE;\n\n/**\n * UTF-16 to UTF-16BE\n */\nfunction UTF16ToUTF16BE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var isLE = false;\n  var first = true;\n  var c1, c2;\n\n  while (i < len) {\n    c1 = data[i++];\n    c2 = data[i++];\n\n    if (first && i === 2) {\n      first = false;\n      if (c1 === 0xFE && c2 === 0xFF) {\n        isLE = false;\n      } else if (c1 === 0xFF && c2 === 0xFE) {\n        // Little-endian\n        isLE = true;\n      } else {\n        isLE = EncodingDetect.isUTF16LE(data);\n        i = 0;\n      }\n      continue;\n    }\n\n    if (isLE) {\n      results[results.length] = c2;\n      results[results.length] = c1;\n    } else {\n      results[results.length] = c1;\n      results[results.length] = c2;\n    }\n  }\n\n  return results;\n}\nexports.UTF16ToUTF16BE = UTF16ToUTF16BE;\n\n/**\n * UTF-16BE to UTF-16\n */\nfunction UTF16BEToUTF16(data, options) {\n  var isLE = false;\n  var bom;\n\n  if (options && options.bom) {\n    var optBom = options.bom;\n    if (!util.isString(optBom)) {\n      optBom = 'BE';\n    }\n\n    if (optBom.charAt(0).toUpperCase() === 'B') {\n      // Big-endian\n      bom = [0xFE, 0xFF];\n    } else {\n      // Little-endian\n      bom = [0xFF, 0xFE];\n      isLE = true;\n    }\n  }\n\n  var results = [];\n  var len = data && data.length;\n  var i = 0;\n\n  if (len >= 2 &&\n      ((data[0] === 0xFE && data[1] === 0xFF) ||\n       (data[0] === 0xFF && data[1] === 0xFE))\n  ) {\n    i = 2;\n  }\n\n  if (bom) {\n    results[0] = bom[0];\n    results[1] = bom[1];\n  }\n\n  var c1, c2;\n  while (i < len) {\n    c1 = data[i++];\n    c2 = data[i++];\n\n    if (isLE) {\n      results[results.length] = c2;\n      results[results.length] = c1;\n    } else {\n      results[results.length] = c1;\n      results[results.length] = c2;\n    }\n  }\n\n  return results;\n}\nexports.UTF16BEToUTF16 = UTF16BEToUTF16;\n\n/**\n * UTF-16 to UTF-16LE\n */\nfunction UTF16ToUTF16LE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var isLE = false;\n  var first = true;\n  var c1, c2;\n\n  while (i < len) {\n    c1 = data[i++];\n    c2 = data[i++];\n\n    if (first && i === 2) {\n      first = false;\n      if (c1 === 0xFE && c2 === 0xFF) {\n        isLE = false;\n      } else if (c1 === 0xFF && c2 === 0xFE) {\n        // Little-endian\n        isLE = true;\n      } else {\n        isLE = EncodingDetect.isUTF16LE(data);\n        i = 0;\n      }\n      continue;\n    }\n\n    if (isLE) {\n      results[results.length] = c1;\n      results[results.length] = c2;\n    } else {\n      results[results.length] = c2;\n      results[results.length] = c1;\n    }\n  }\n\n  return results;\n}\nexports.UTF16ToUTF16LE = UTF16ToUTF16LE;\n\n/**\n * UTF-16LE to UTF-16\n */\nfunction UTF16LEToUTF16(data, options) {\n  var isLE = false;\n  var bom;\n\n  if (options && options.bom) {\n    var optBom = options.bom;\n    if (!util.isString(optBom)) {\n      optBom = 'BE';\n    }\n\n    if (optBom.charAt(0).toUpperCase() === 'B') {\n      // Big-endian\n      bom = [0xFE, 0xFF];\n    } else {\n      // Little-endian\n      bom = [0xFF, 0xFE];\n      isLE = true;\n    }\n  }\n\n  var results = [];\n  var len = data && data.length;\n  var i = 0;\n\n  if (len >= 2 &&\n      ((data[0] === 0xFE && data[1] === 0xFF) ||\n       (data[0] === 0xFF && data[1] === 0xFE))\n  ) {\n    i = 2;\n  }\n\n  if (bom) {\n    results[0] = bom[0];\n    results[1] = bom[1];\n  }\n\n  var c1, c2;\n  while (i < len) {\n    c1 = data[i++];\n    c2 = data[i++];\n\n    if (isLE) {\n      results[results.length] = c1;\n      results[results.length] = c2;\n    } else {\n      results[results.length] = c2;\n      results[results.length] = c1;\n    }\n  }\n\n  return results;\n}\nexports.UTF16LEToUTF16 = UTF16LEToUTF16;\n\n/**\n * UTF-16BE to UTF-16LE\n */\nfunction UTF16BEToUTF16LE(data) {\n  var results = [];\n  var i = 0;\n  var len = data && data.length;\n  var c1, c2;\n\n  if (len >= 2 &&\n      ((data[0] === 0xFE && data[1] === 0xFF) ||\n       (data[0] === 0xFF && data[1] === 0xFE))\n  ) {\n    i = 2;\n  }\n\n  while (i < len) {\n    c1 = data[i++];\n    c2 = data[i++];\n    results[results.length] = c2;\n    results[results.length] = c1;\n  }\n\n  return results;\n}\nexports.UTF16BEToUTF16LE = UTF16BEToUTF16LE;\n\n/**\n * UTF-16LE to UTF-16BE\n */\nfunction UTF16LEToUTF16BE(data) {\n  return UTF16BEToUTF16LE(data);\n}\nexports.UTF16LEToUTF16BE = UTF16LEToUTF16BE;\n\n/**\n * UTF-16 (JavaScript Unicode array) to JIS\n */\nfunction UNICODEToJIS(data) {\n  return UTF8ToJIS(UNICODEToUTF8(data));\n}\nexports.UNICODEToJIS = UNICODEToJIS;\n\n/**\n * JIS to UTF-16 (JavaScript Unicode array)\n */\nfunction JISToUNICODE(data) {\n  return UTF8ToUNICODE(JISToUTF8(data));\n}\nexports.JISToUNICODE = JISToUNICODE;\n\n/**\n * UTF-16 (JavaScript Unicode array) to EUCJP\n */\nfunction UNICODEToEUCJP(data) {\n  return UTF8ToEUCJP(UNICODEToUTF8(data));\n}\nexports.UNICODEToEUCJP = UNICODEToEUCJP;\n\n/**\n * EUCJP to UTF-16 (JavaScript Unicode array)\n */\nfunction EUCJPToUNICODE(data) {\n  return UTF8ToUNICODE(EUCJPToUTF8(data));\n}\nexports.EUCJPToUNICODE = EUCJPToUNICODE;\n\n/**\n * UTF-16 (JavaScript Unicode array) to SJIS\n */\nfunction UNICODEToSJIS(data) {\n  return UTF8ToSJIS(UNICODEToUTF8(data));\n}\nexports.UNICODEToSJIS = UNICODEToSJIS;\n\n/**\n * SJIS to UTF-16 (JavaScript Unicode array)\n */\nfunction SJISToUNICODE(data) {\n  return UTF8ToUNICODE(SJISToUTF8(data));\n}\nexports.SJISToUNICODE = SJISToUNICODE;\n\n/**\n * UTF-8 to UTF-16\n */\nfunction UTF8ToUTF16(data, options) {\n  return UNICODEToUTF16(UTF8ToUNICODE(data), options);\n}\nexports.UTF8ToUTF16 = UTF8ToUTF16;\n\n/**\n * UTF-16 to UTF-8\n */\nfunction UTF16ToUTF8(data) {\n  return UNICODEToUTF8(UTF16ToUNICODE(data));\n}\nexports.UTF16ToUTF8 = UTF16ToUTF8;\n\n/**\n * UTF-8 to UTF-16BE\n */\nfunction UTF8ToUTF16BE(data) {\n  return UNICODEToUTF16BE(UTF8ToUNICODE(data));\n}\nexports.UTF8ToUTF16BE = UTF8ToUTF16BE;\n\n/**\n * UTF-16BE to UTF-8\n */\nfunction UTF16BEToUTF8(data) {\n  return UNICODEToUTF8(UTF16BEToUNICODE(data));\n}\nexports.UTF16BEToUTF8 = UTF16BEToUTF8;\n\n/**\n * UTF-8 to UTF-16LE\n */\nfunction UTF8ToUTF16LE(data) {\n  return UNICODEToUTF16LE(UTF8ToUNICODE(data));\n}\nexports.UTF8ToUTF16LE = UTF8ToUTF16LE;\n\n/**\n * UTF-16LE to UTF-8\n */\nfunction UTF16LEToUTF8(data) {\n  return UNICODEToUTF8(UTF16LEToUNICODE(data));\n}\nexports.UTF16LEToUTF8 = UTF16LEToUTF8;\n\n/**\n * JIS to UTF-16\n */\nfunction JISToUTF16(data, options) {\n  return UTF8ToUTF16(JISToUTF8(data), options);\n}\nexports.JISToUTF16 = JISToUTF16;\n\n/**\n * UTF-16 to JIS\n */\nfunction UTF16ToJIS(data) {\n  return UTF8ToJIS(UTF16ToUTF8(data));\n}\nexports.UTF16ToJIS = UTF16ToJIS;\n\n/**\n * JIS to UTF-16BE\n */\nfunction JISToUTF16BE(data) {\n  return UTF8ToUTF16BE(JISToUTF8(data));\n}\nexports.JISToUTF16BE = JISToUTF16BE;\n\n/**\n * UTF-16BE to JIS\n */\nfunction UTF16BEToJIS(data) {\n  return UTF8ToJIS(UTF16BEToUTF8(data));\n}\nexports.UTF16BEToJIS = UTF16BEToJIS;\n\n/**\n * JIS to UTF-16LE\n */\nfunction JISToUTF16LE(data) {\n  return UTF8ToUTF16LE(JISToUTF8(data));\n}\nexports.JISToUTF16LE = JISToUTF16LE;\n\n/**\n * UTF-16LE to JIS\n */\nfunction UTF16LEToJIS(data) {\n  return UTF8ToJIS(UTF16LEToUTF8(data));\n}\nexports.UTF16LEToJIS = UTF16LEToJIS;\n\n/**\n * EUC-JP to UTF-16\n */\nfunction EUCJPToUTF16(data, options) {\n  return UTF8ToUTF16(EUCJPToUTF8(data), options);\n}\nexports.EUCJPToUTF16 = EUCJPToUTF16;\n\n/**\n * UTF-16 to EUC-JP\n */\nfunction UTF16ToEUCJP(data) {\n  return UTF8ToEUCJP(UTF16ToUTF8(data));\n}\nexports.UTF16ToEUCJP = UTF16ToEUCJP;\n\n/**\n * EUC-JP to UTF-16BE\n */\nfunction EUCJPToUTF16BE(data) {\n  return UTF8ToUTF16BE(EUCJPToUTF8(data));\n}\nexports.EUCJPToUTF16BE = EUCJPToUTF16BE;\n\n/**\n * UTF-16BE to EUC-JP\n */\nfunction UTF16BEToEUCJP(data) {\n  return UTF8ToEUCJP(UTF16BEToUTF8(data));\n}\nexports.UTF16BEToEUCJP = UTF16BEToEUCJP;\n\n/**\n * EUC-JP to UTF-16LE\n */\nfunction EUCJPToUTF16LE(data) {\n  return UTF8ToUTF16LE(EUCJPToUTF8(data));\n}\nexports.EUCJPToUTF16LE = EUCJPToUTF16LE;\n\n/**\n * UTF-16LE to EUC-JP\n */\nfunction UTF16LEToEUCJP(data) {\n  return UTF8ToEUCJP(UTF16LEToUTF8(data));\n}\nexports.UTF16LEToEUCJP = UTF16LEToEUCJP;\n\n/**\n * SJIS to UTF-16\n */\nfunction SJISToUTF16(data, options) {\n  return UTF8ToUTF16(SJISToUTF8(data), options);\n}\nexports.SJISToUTF16 = SJISToUTF16;\n\n/**\n * UTF-16 to SJIS\n */\nfunction UTF16ToSJIS(data) {\n  return UTF8ToSJIS(UTF16ToUTF8(data));\n}\nexports.UTF16ToSJIS = UTF16ToSJIS;\n\n/**\n * SJIS to UTF-16BE\n */\nfunction SJISToUTF16BE(data) {\n  return UTF8ToUTF16BE(SJISToUTF8(data));\n}\nexports.SJISToUTF16BE = SJISToUTF16BE;\n\n/**\n * UTF-16BE to SJIS\n */\nfunction UTF16BEToSJIS(data) {\n  return UTF8ToSJIS(UTF16BEToUTF8(data));\n}\nexports.UTF16BEToSJIS = UTF16BEToSJIS;\n\n/**\n * SJIS to UTF-16LE\n */\nfunction SJISToUTF16LE(data) {\n  return UTF8ToUTF16LE(SJISToUTF8(data));\n}\nexports.SJISToUTF16LE = SJISToUTF16LE;\n\n/**\n * UTF-16LE to SJIS\n */\nfunction UTF16LEToSJIS(data) {\n  return UTF8ToSJIS(UTF16LEToUTF8(data));\n}\nexports.UTF16LEToSJIS = UTF16LEToSJIS;\n"]},"metadata":{},"sourceType":"script"}